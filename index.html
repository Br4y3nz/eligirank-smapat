<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login - EligiRank SMAPAT</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css" />
  <link rel="stylesheet" href="Style/styles.css" />
</head>
<body class="register-page">
  <!-- Header Section -->
  <header class="header">
    <div class="brand" style="display: flex; align-items: center; gap: 12px;">
      <img src="Assets/Logo-smapat.png" alt="SMAPAT Logo" style="height: 40px; width: auto;" />
      <span>EligiRank SMAPAT | Login</span>
    </div>
  </header>

  <!-- Main Content -->
  <div class="main-content">
    <div class="card">
      <h2 style="text-align: center;"><i class='bx bx-log-in'></i> Login Akun</h2>
      <form id="loginForm" novalidate>
        <div class="form-group" style="margin-top: 20px;">
          <label for="usernameOrEmail">Username atau Email</label>
          <div class="input-icon">
            <i class='bx bx-user-circle'></i>
            <input type="text" id="usernameOrEmail" name="usernameOrEmail" autocomplete="username" placeholder="Masukkan username atau email" required />
          </div>
          <span id="usernameOrEmailError" class="error-message" style="display: none;">Username atau Email tidak boleh kosong.</span>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <div class="input-icon" style="position: relative;">
            <i class='bx bx-lock-alt'></i>
            <input type="password" id="password" name="password" autocomplete="current-password" placeholder="Masukkan password" required />
            <i id="togglePassword" class='bx bx-low-vision' style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); cursor: pointer; color: var(--primary); font-size: 1.2rem;"></i>
          </div>
          <span id="passwordError" class="error-message" style="display: none;">Password tidak boleh kosong.</span>
        </div>
        <div class="form-group remember-me" style="justify-content: space-between; margin-bottom: 15px;">
          <label>
            <input type="checkbox" id="rememberMe" />
            Ingat Saya
          </label>
          <a href="forgot-password.html" style="font-size: 0.9rem; color: var(--primary); text-decoration: none;">Lupa Password?</a>
        </div>
        <button type="submit" class="btn">Login</button>
        <div class="login-link" style="margin-top: 15px; text-align: center;">
          Belum punya akun? <a href="register.html" style="font-weight: 600; color: var(--primary); text-decoration: none;">Daftar</a>
        </div>
      </form>

      <!-- Google Log In Button below the form with Google logo -->
      <button id="google-signin-btn" type="button" aria-label="Log in with Google" class="google-btn">
        <svg viewBox="0 0 533.5 544.3" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" class="google-icon">
          <path fill="#4285F4" d="M533.5 278.4c0-17.4-1.5-34.1-4.3-50.4H272v95.5h146.9c-6.3 34-25.3 62.8-54.1 82v68h87.4c51-47 80.3-116 80.3-195.1z"/>
          <path fill="#34A853" d="M272 544.3c73.7 0 135.6-24.4 180.8-66.1l-87.4-68c-24.3 16.3-55.4 26-93.4 26-71.7 0-132.5-48.3-154.3-113.1H27.6v70.9c45.1 89.1 137.3 150.3 244.4 150.3z"/>
          <path fill="#FBBC05" d="M117.7 323.1c-10.7-31.7-10.7-65.9 0-97.6v-70.9H27.6c-38.6 75.3-38.6 164.7 0 240l90.1-71.5z"/>
          <path fill="#EA4335" d="M272 107.7c39.9 0 75.8 13.7 104 40.7l78-78C405.6 24.4 343.7 0 272 0 164.9 0 72.7 61.2 27.6 150.3l90.1 70.9c21.8-64.8 82.6-113.5 154.3-113.5z"/>
        </svg>
        Log in with Google
      </button>
    </div>
  </div>

  <!-- Login Error Modal -->
  <div id="loginErrorModal" class="modal" style="display:none;">
    <div class="modal-content">
      <span class="close" onclick="closeLoginErrorModal()">&times;</span>
      <div class="modal-icon error-icon"><i class='bx bx-x-circle'></i></div>
      <h3>Login Gagal</h3>
      <p></p>
    </div>
  </div>

  <!-- Login Success Modal -->
  <div id="loginSuccessModal" class="modal" style="display:none;">
    <div class="modal-content">
      <span class="close" onclick="closeLoginSuccessModal()">&times;</span>
      <div class="modal-icon success-icon"><i class='bx bx-check-circle'></i></div>
      <h3>Login Berhasil</h3>
      <p></p>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
  <script type="module" src="./Supabase/client.js"></script>
  <script type="module" src="Script/login.js"></script>
</body>
</html>
